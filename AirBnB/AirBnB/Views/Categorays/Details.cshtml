@model AirBnB.Models.Categoray

@{
    ViewData["Title"] = "Details";
}


<div class="info">
    <div class="container">
        <div class="row details">
            <div class="col-5 image">
                <img src="/CategoryImgs/@Model.Categoryphotosrc" alt="" class="AmenityImg">
            </div>
            <div class="col-4 text align-self-center">
                <h1>@Model.CategorayName</h1>
                <a asp-action="Index">Back To List</a>
                <a asp-action="Edit" asp-route-id="@Model.CategorayId">Edit</a>
            </div>
        </div>
    </div>
</div>







<div class="container">
    <div class="row bg">
        @foreach (var item in Model.Properties)
        {
            var photos = item.PropertyImgs.ToList();
            <div class="col-4">
                <div class="card ">
                    <div id="carouselExample_@item.PropertyId" class="carousel slide h-100">
                        <div class="carousel-inner">
                            @for (int i = 0; i < photos.Count(); i++)
                            {


                                @*  <div class="carousel-indicators">
                        <button type="button" data-bs-target="#carouselExample_@item.PropertyId" data-bs-slide-to="@i" class="active" aria-current="true" aria-label="Slide 1"></button>
                        </div>*@

                                @*  <div class="carousel-item active">
                        <img src="~/Images/@photos[i].ImgSrc" class="d-block w-100 h-100" alt="...">
                        </div>*@


                                if (i == 0)
                                {
                                    <div class="carousel-item active">
                                        <img src="~/Images/@photos[i].ImgSrc" width="300" height="300" class="d-block w-100 rounded" />
                                    </div>
                                }
                                else
                                {
                                    <div class="carousel-item">
                                        <img src="~/Images/@photos[i].ImgSrc" width="330" height="330" class="d-block w-100" />
                                    </div>
                                }

                            }
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample_@item.PropertyId" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselExample_@item.PropertyId" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>




                    <div class="card-body">
                        <h5 class="card-title">@item.PropertyTitle</h5>
                        <p class="card-text">
                            <small class="text-muted">@item.PropertyDescription</small>
                        </p>
                        <p class="card-text m-md-n5" style="margin: -10px 0;">
                            <small class="text-muted">@item.PropertyBedsNum beds</small>
                        </p>
                    </div>
                    <div class="card-footer border-0 bg-transparent ">
                        <small class="text-muted"><span>@item.PropertyPricePerNight</span>$ per night</small>
                    </div>
                    <div>
                        <a asp-controller="Bookings" asp-action="Create" asp-route-id="@item.PropertyId">Book</a>
                    </div>

                </div>
            </div>








        }


    </div>
</div>











































































@*

<div class="d-flex justify-content-between">
@foreach (var prop in Model.Properties)
{
    var propPhotos = prop.PropertyImgs.ToList();
     int length = propPhotos.Count();
    <div class="we col-5">
        <h1>@prop.PropertyTitle</h1>
        <div id="carouselExample_@prop.PropertyId" class="carousel slide">
            <div class="carousel-inner">


                @for (int i = 0; i < propPhotos.Count(); i++)
                {
                    if (i == 0)
                    {
                        <div class="carousel-item active">
                            <img src="/Images/@propPhotos.ElementAt(i).ImgSrc" width="480" height="480" class="d-block w-100" />
                        </div>
                    }
                    else
                    {
                        <div class="carousel-item">
                            <img src="/Images/@propPhotos.ElementAt(i).ImgSrc" width="480" height="480" class="d-block w-100" />
                        </div>
                    }
                }

            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample_@prop.PropertyId" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExample_@prop.PropertyId" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
        <div class="propertyinfo">
            <h1 class="bluewords">@prop.PropertyPricePerNight $</h1>
            <h1 class="bluewords">@prop.Area.AreaName</h1>
            <h1 class="bluewords">@prop.Area.City.CityName</h1>
            <a class="btn btn-primary" asp-controller="Bookings" asp-action="Create" asp-route-id="@prop.PropertyId">Book</a>
        </div>
    </div>
}
</div>

</div>*@